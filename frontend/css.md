---
currentMenu: CSS
---

CSS
============



## Tools:
Pre-compiler:
[stylus](https://learnboost.github.io/stylus/) with [gulp-stylus](https://www.npmjs.com/package/gulp-stylus)
Postcss: 
[Autoprefixer](https://www.npmjs.com/package/autoprefixer) 
Stylus libraries:
[Jeet grid system](http://jeet.gs/)
[Axis utilities for stylus](http://axis.netlify.com/)



## Settings variables and general global styles

These are all located in "client/styles" folder, whereas module specific styles are located in "client/modules".
All settings and variables used with stylus are located in "client/styles/settings" and are all preceded with "$" symbol. This is where fonts, colours, sizes etc are all declared.

### Other files of note:
The purpose of most files in this folder will be self explainatory with comments inside them. However, there are a few with extra comments noted here:
- "components.styl" is a file to hold smaller components that are re-used around the site that are not module specific. They still follow the same syntax rules as modules though.
- "Scaffolding.styl" houses everything to do with layout and grid. More information can be found [here](frontend/grid-and-scaffolding.html))
- "core.styl" this is the entry point for the stylus build and everything gets built fro this. More information on css build can be found [here](frontend/build.html)
- "sprite.styl" this is dynamically generated by the spritesmith gulp plugin as part of the build. DO NOT EDIT THIS FILE.



## Jeet and Axis
As stated above, Jeet is a powerful third party grid system that is used extensively through out the site. More info on it's usage can be found here [here](frontend/grid-and-scaffolding.html))
Axis is also a third party system with a bunch of helper mixins. Please read the [docs](http://axis.netlify.com/) for details and for descriptions of the mixins available. One of the most used examples is the linear-gradient mixin which provides an easy way to create cross-browser background gradients
```
linear-gradient(to bottom, #fff, #000 100%)
```



## CSS Methodology and syntax
The BEM methodology is primarily used in the css authoring for the site. There is no strict adherance to it, but the basic principles of Block, Element and modifier are followed. Lowercase syntax is used for selector / module names with dash (-) seperators preferred to camelcasing. Child elements are denoted with a double underscore (__) and modifiers are described with a double dash (--). 

State classes are preceded by verbs to denote actions for example:
```
.has-sub-nav
.is-active
``` 

Any helper classes follow the same naming principles for example:
```
.centered-content

```

Any class that is used as a trigger for a javascript action will be preceded by js-. For example:
```
js-dynamicContainer
```
This class should have NO STYLING applied to it and should be purely used as a javascript trigger.


Since the site is largely module based, all css relating to any module is generally housed in the file associated to that module. We then use Bem syntax to target child elements of the module. So the following css:
```
.module-name {}
.module-name__first-child {}
.module-name__first-child__nested {}

.module-name--expanded {
    width: 100%
}

```
would be used along with the following markup:
```
<section class="module-name module-name--expanded">
    <div class="module-name__first-child">
        <p>This is the child element</p>
        <a class="module-name__first-child__nested" href="/ALINK">This is a furter nested child</a>
    </div>
</section>
```
That's the css example. But with styus we would write this:
```
.module-name
    //module css here
    &__first-child
        //first child css here
        &__nested
            //nested child css here

.module-name--expanded
    @extend .module-name
    width 100%

```
using extend means that you don't have to use the module class as well as it's modified class. So the following would work:
```
<section class="module-name--expanded">
    <!-- Module-name--expanded has all the css applied to module-name applied to it as well -->
</section>
```

## Module examples

Here is example usage of css authoring with the commentary module. First the html (located at: "modules/CommentaryModule/Commentary.handlebars"):
```
<section class="commentary">
  <div data-template="CommentaryModule/CommentaryHeader" class="commentary__attribution js-commentary-header">
    {{>CommentaryHeader}}
  </div>

  <ul class="commentary__list js-dynamicContainer js-realtime" 
      data-realtime-channel="{{commentaryChannel}}" 
      data-render-action="prepend"
      data-template="CommentaryModule/CommentaryItem">
    {{#each items}}
      {{>CommentaryItem}}
    {{/each}}
  </ul>
</section>
```
contains a child element "commentary__list" (located at: "modules/CommentaryModule/CommentaryItem.handlebars")

```
<li id="{{id}}" data-timestamp="{{timestamp}}" class="commentary__list__item commentary__list__item--{{icon}} commentary__list__item commentary__list__item--{{contentType}}">
  <div class="commentary__list__item__time">
    {{#if icon}}<i class="commentary__list__item__icon icon-{{icon}}"></i>{{/if}}
    <span>{{matchTime}}</span>
    {{#if extraTime}}<span>{{extraTime}}</span>{{/if}}
  </div>
  <div class="commentary__list__item__content">

    {{#if contentType}}<i class="commentary__list__item__type icon-{{contentType}}"></i>{{/if}}
    <header class="commentary__list__item__content__title">
      <h3>{{title}}</h3>
    </header>

    <div class="commentary__list__item__content__body">
      {{{content}}}
    </div>        
  </div>
</li>
```
and the css used with this would follow like so:
```
.commentary
  text-align left 
  padding-top 2rem

  &__list
    list-style none 
    padding-left 0
    margin-top 0.5em  
    
    &__item
      @extends .row--flush
      position relative

    //Then goal is a modifier that has been added by {{contentType}}

      &--goal
        
        .commentary__list__item__content
          border-bottom 4px solid color-highlight-inverse-dark
            
        .commentary__list__item__time
          background color-highlight-inverse
          background linear-gradient(to bottom, color-highlight-inverse 0%,color-highlight-inverse 70%,color-highlight-inverse-dark 100%)
    
```

## Media Queries
The authoring of the css follows a mobile first approach. So the core styles contained in ".module-name" will default to mobile. No specifix devices are target. Only widths at certain breakpoints. The breakpoints are listed in "client/styles/settings.styl"
```
$breakMini = 400px
$breakOne = 500px
$breakOneAndHalf = 640px
$breakTwo = 850px
$breakThree = 1000px
$breakThreeBump = 1100px
$breakFour = 1300px

```

There is then a media query mixin that gives a short hand style to declaring a breakpoint using the variables. Example:
```

.module-name
  padding 0
  //mobile styles here
  
  +media-query(only screen, min-width $breakThree)
    background rgba(0,0,0,0.2)
    padding-left global-gutter-padding-desktop
    padding-right global-gutter-padding-desktop
```

