<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Stadion</title>

        <link rel="stylesheet" href="http://docs.stadion.io/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://docs.stadion.io/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://docs.stadion.io/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="http://docs.stadion.io/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="http://docs.stadion.io/">
                Stadion
                <small class="hidden-xs hidden-sm">
                    The engine room for your digital stadium.
                </small>
            </a>

                            <a href="https://github.com/stadionHQ/Documentation">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
                </a>
            
        </header>

        <main class="container-fluid">
            <div class="row">

                
                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                                                    <p class="text-muted">
                                Features
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/features/index.html">
                                            List of features
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Technical documentation
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/index.html">
                                            Overview
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/api.html">
                                            API
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/hosting.html">
                                            Hosting
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/deployments.html">
                                            CI & Deployments
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/services.html">
                                            Services
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/configuration.html">
                                            Configuration
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/datafeeds.html">
                                            Data feeds
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/cdn.html">
                                            CDN
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/responsive images.html">
                                            Responsive Images
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/multilanguage.html">
                                            Multi Language
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/video.html">
                                            Video
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Design Guidelines
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/1_homepage.html">
                                            Homepage
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/loginregister.html">
                                            Login & Register
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/2_news.html">
                                            News
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/3_news_article.html">
                                            News Article
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/4_fixtures.html">
                                            Fixtures
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/5_video.html">
                                            Video
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/6_video_detail.html">
                                            Video Detail
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/7_team_list.html">
                                            Squad List
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/8_player_profile.html">
                                            Player Profile
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/9_search_results.html">
                                            Search Results
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/11_match_preview.html">
                                            Match Preview
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/12_match_report.html">
                                            Match Report
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/13_match_day_live.html">
                                            Match Day Live
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/14_match_stats.html">
                                            Match Stats
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/all_reusable_elements.html">
                                            Reuseable Compnents
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/footer.html">
                                            Footer
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/design/header.html">
                                            Header
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Umbraco
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/umbraco/umbraco.html">
                                            Overview
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/umbraco/installation.html">
                                            Installation
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/umbraco/upgrades.html">
                                            Upgrades
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/umbraco/customwidgets.html">
                                            Custom Widgets
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Sitecore
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/sitecore/sitecore.html">
                                            Overview
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/sitecore/installation.html">
                                            Installation
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/sitecore/upgrades.html">
                                            Upgrades
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/sitecore/customwidgets.html">
                                            Custom Widgets
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Front End
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/index.html">
                                            Overview
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/build.html">
                                            Build
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/css.html">
                                            CSS
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/folder-structure.html">
                                            Folder Structure
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/api.html">
                                            API
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/modules/image.html">
                                            Image Module
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/grid-and-scaffolding.html">
                                            Grid
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/icons.html">
                                            Icons
                                        </a>
                                    </li>
                                                                    <li class="active">
                                        <a href="http://docs.stadion.io/frontend/javascript.html">
                                            Javascript
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/utilities.html">
                                            Javascript Utilities
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/realtime-updates.html">
                                            Realtime Updates
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://docs.stadion.io/frontend/server.html">
                                            Server
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                    <h1 id="javascript">Javascript</h1>
<h2 id="tools">Tools</h2>
<p><a href="http://browserify.org/">Browserify</a> - Javascript bundler. Precompiles javascript written in nodejs require syntax for use in a browser.</p>
<h2 id="syntax-and-module-pattern">Syntax and module pattern</h2>
<p>Syntax and coding standards adhere to guidelines outlined in the <a href="https://github.com/airbnb/javascript#the-javascript-style-guide-guide">Airbnb style guide</a>. This is used as a guide, but take note of how the code looks as your are developing. Note the spacings and tab indentations etc and follow the pattern. For example:</p>
<pre><code>var newMethod = function() {
  var new thing = null;
}</code></pre>
<p>You can see that there is a tab indentation of two spaces and there is a space between () and the opening '{'. This is consistent throughout the site. Set your editor to use spaces not tabs.
The javascript architecture of the site follows a strict adherance to the <a href="http://www.sitepoint.com/understanding-module-exports-exports-node-js/">Nodejs require and export module pattern</a>. New modules are created and added to the 'client/modules' folder for new modules. There are also more generic modules and helpers located in 'client/scripts'. An example of a new module initialisation:</p>
<pre><code>
'use strict';

//require an instance of another module here. These can be constructors or singletons.
var config = require('../config');

var MyNewModule = function MyNewModule(settings) {
  //Can have initialisation stuff in here...
  this.settings = settings;
};

MyNewModule.prototype.publicMethod = function(param) {

};

// Private methods. These should be added at the end of the file. They are underscored and added to the prototype to make them available for testing.
MyNewModule.prototype._privateMethod = function(param) {

};

//The constructor is exported here
module.exports = MyNewModule;</code></pre>
<p>The module can then be required like this:</p>
<pre><code>var myNewModule = new MyNewModule({"width" : 500});</code></pre>
<p>If a module is added to the 'client/modules folder', then it needs an initialiser file to accompany it. There is a glob pattern in 'client/scripts/app.js' to do this.</p>
<pre><code>require('../modules/**/*.initialiser.js', {glob: true});</code></pre>
<p>What the initialiser will do is check for a trigger on load to see if the module is to be initialised. eg:</p>
<pre><code>var $ = window.$;
var Carousel = require('./Carousel');

var CarouselInitialiser = function() {
  console.log('CarouselInitialiser initialised');
  /* Initialise carousels
  ========================================================================== */
  var $carousel = $('.js-carousel');
  if ($carousel.length) {
    $carousel.each(function(index, item){
      var carousel = new Carousel();
      carousel.init($(item));
    });

  }
};

module.exports = new CarouselInitialiser();</code></pre>
<p>It can also have it's initialisation added to '/scripts/modulesInitialiser.js' with others if easier. This can change going forward to have all the initialisations in '/scripts/modulesInitialiser.js' same as the utilities in '/scripts/utilitiesInitialisation.js'</p>
<h2 id="introduction-and-standards">Introduction and standards</h2>
<h3 id="event-architechture">Event architechture</h3>
<p>Inter-module communications are handled via the node mediator following syntax (MODULEORIGINATOR:EVENTNAME) eg (UI:BREAKPOINT_CHANGED). All events should be added to the 'client/scripts/config.js' file. An example trigger and listener:</p>
<pre><code>var config.events = require('../config')
var mediator = require('mediatorjs');

//To listen to the mediator event:
mediator.on(events.ui.breakPointChanged, upDateUiMethod);

//To trigger mediator event:
mediator.trigger(events.ui.breakPointChanged, {passed: 'parameters'});
</code></pre>
<h3 id="root-javascript-initialisation">Root javascript Initialisation</h3>
<h4 id="entry-point--appjs">Entry point  (app.js)</h4>
<p>The entry point to the application is in 'client/scripts/app.js'. This is called from 'client/scripts/main.js'which will be the name of the bundled file in production. This allows us the flexibility to add other entry points to secondary applications if needed.</p>
<h4 id="ui-initialisation-uijs">Ui initialisation (ui.js)</h4>
<p>'client/scripts/ui.js' initialises UI state for the application. Things like mediator, global listeners and breakpoints watchers.</p>
<h4 id="reusable-global-utilities-utilitiesinitialiserjs">reusable global utilities (utilitiesInitialiser.js)</h4>
<p>'client/scripts/utilitiesInitialiser.js' contains initialisation for all global and reusable components not deemed to be bespoke modules (which would be added to the 'modules' folder). They can be generally be initiated and used anywhere in the site and are mostly trigger with 'js-componentname' classes.  </p>
<p>The utilitiesInitialiser module's init() method checks for css class existance in child elements of the passed parent Dom node. On page load this will be the 'body' but it can be something more dynamic if content has been added after page load with ajax. In these instances utilitiesInitialiser.init($newParentNode); can be called to run all the checks again and initialise and new instances only contained in the scope of the new wrapper element ($newParentNode).</p>
<p>An example initialisation:</p>
<pre><code>  var $infiniteScroll = $parent.find('.js-infinitescroll');
  if ($infiniteScroll.length) {
    var InfiniteScroll = require('./utilities/infiniteScroll');
    $infiniteScroll.each(function(index, item){
      var infiniteScroll = new InfiniteScroll($(item));
    });
  }
</code></pre>
<p>The 'modulesInitialiser' works in the same way, but only targets modules in the '/Modules' folder.</p>
<h4 id="config-configjs">Config (config.js)</h4>
<p>Config and settings for the site.</p>
<h4 id="icons-iconsjs">Icons (icons.js)</h4>
<p>This file manages the rendering of svg assets in the site. More information can be found in the <a href="frontend/icons.html">icons docs</a>.</p>
                </section>

            </div>
        </main>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
